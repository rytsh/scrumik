var Ur=Object.defineProperty,Br=Object.defineProperties;var Vr=Object.getOwnPropertyDescriptors;var Ot=Object.getOwnPropertySymbols;var Gr=Object.prototype.hasOwnProperty,Fr=Object.prototype.propertyIsEnumerable;var St=(t,e,r)=>e in t?Ur(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,le=(t,e)=>{for(var r in e||(e={}))Gr.call(e,r)&&St(t,r,e[r]);if(Ot)for(var r of Ot(e))Fr.call(e,r)&&St(t,r,e[r]);return t},rt=(t,e)=>Br(t,Vr(e));import{S as Te,i as Ee,s as Ae,e as E,t as U,k as L,c as A,a as j,h as B,d as v,m as M,b as _,P as _e,g as V,F as d,L as q,M as xe,j as te,E as ae,Q as Ce,X as Hr,w as ue,x as de,Y as Ge,y as he,R as we,N as ht,n as $e,o as J,p as Le,q as x,B as be,T as qe,l as ke,V as wr,Z as qr,_ as Kr,H as zr,O as Pt,W as xr,v as Wr,U as Xr}from"../../chunks/index-2a59a6fe.js";import{j as ge,D as re,d as Q,y as me,p as nt,C as Jr,k as Yr,l as fe,m as Zr,n as bt,o as kr,q as It,a as Tr,r as Qr,g as ea,s as ta,t as ra,b as aa,u as sa}from"../../chunks/name-1ae25029.js";import"../../chunks/index-d55bf246.js";var Fe=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function la(){this.__data__=[],this.size=0}var na=la;function oa(t,e){return t===e||t!==t&&e!==e}var Er=oa,ia=Er;function ca(t,e){for(var r=t.length;r--;)if(ia(t[r][0],e))return r;return-1}var We=ca,fa=We,ua=Array.prototype,da=ua.splice;function ha(t){var e=this.__data__,r=fa(e,t);if(r<0)return!1;var a=e.length-1;return r==a?e.pop():da.call(e,r,1),--this.size,!0}var ba=ha,_a=We;function pa(t){var e=this.__data__,r=_a(e,t);return r<0?void 0:e[r][1]}var va=pa,ga=We;function ma(t){return ga(this.__data__,t)>-1}var ya=ma,wa=We;function ka(t,e){var r=this.__data__,a=wa(r,t);return a<0?(++this.size,r.push([t,e])):r[a][1]=e,this}var Ta=ka,Ea=na,Aa=ba,Ca=va,ja=ya,Oa=Ta;function je(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var a=t[e];this.set(a[0],a[1])}}je.prototype.clear=Ea;je.prototype.delete=Aa;je.prototype.get=Ca;je.prototype.has=ja;je.prototype.set=Oa;var Xe=je,Sa=Xe;function Pa(){this.__data__=new Sa,this.size=0}var Ia=Pa;function Na(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var Da=Na;function $a(t){return this.__data__.get(t)}var La=$a;function Ma(t){return this.__data__.has(t)}var Ra=Ma,Ua=typeof Fe=="object"&&Fe&&Fe.Object===Object&&Fe,Ar=Ua,Ba=Ar,Va=typeof self=="object"&&self&&self.Object===Object&&self,Ga=Ba||Va||Function("return this")(),ne=Ga,Fa=ne,Ha=Fa.Symbol,_t=Ha,Nt=_t,Cr=Object.prototype,qa=Cr.hasOwnProperty,Ka=Cr.toString,De=Nt?Nt.toStringTag:void 0;function za(t){var e=qa.call(t,De),r=t[De];try{t[De]=void 0;var a=!0}catch{}var l=Ka.call(t);return a&&(e?t[De]=r:delete t[De]),l}var xa=za,Wa=Object.prototype,Xa=Wa.toString;function Ja(t){return Xa.call(t)}var Ya=Ja,Dt=_t,Za=xa,Qa=Ya,es="[object Null]",ts="[object Undefined]",$t=Dt?Dt.toStringTag:void 0;function rs(t){return t==null?t===void 0?ts:es:$t&&$t in Object(t)?Za(t):Qa(t)}var Je=rs;function as(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var jr=as,ss=Je,ls=jr,ns="[object AsyncFunction]",os="[object Function]",is="[object GeneratorFunction]",cs="[object Proxy]";function fs(t){if(!ls(t))return!1;var e=ss(t);return e==os||e==is||e==ns||e==cs}var Or=fs,us=ne,ds=us["__core-js_shared__"],hs=ds,at=hs,Lt=function(){var t=/[^.]+$/.exec(at&&at.keys&&at.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function bs(t){return!!Lt&&Lt in t}var _s=bs,ps=Function.prototype,vs=ps.toString;function gs(t){if(t!=null){try{return vs.call(t)}catch{}try{return t+""}catch{}}return""}var Sr=gs,ms=Or,ys=_s,ws=jr,ks=Sr,Ts=/[\\^$.*+?()[\]{}|]/g,Es=/^\[object .+?Constructor\]$/,As=Function.prototype,Cs=Object.prototype,js=As.toString,Os=Cs.hasOwnProperty,Ss=RegExp("^"+js.call(Os).replace(Ts,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ps(t){if(!ws(t)||ys(t))return!1;var e=ms(t)?Ss:Es;return e.test(ks(t))}var Is=Ps;function Ns(t,e){return t==null?void 0:t[e]}var Ds=Ns,$s=Is,Ls=Ds;function Ms(t,e){var r=Ls(t,e);return $s(r)?r:void 0}var Oe=Ms,Rs=Oe,Us=ne,Bs=Rs(Us,"Map"),pt=Bs,Vs=Oe,Gs=Vs(Object,"create"),Ye=Gs,Mt=Ye;function Fs(){this.__data__=Mt?Mt(null):{},this.size=0}var Hs=Fs;function qs(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Ks=qs,zs=Ye,xs="__lodash_hash_undefined__",Ws=Object.prototype,Xs=Ws.hasOwnProperty;function Js(t){var e=this.__data__;if(zs){var r=e[t];return r===xs?void 0:r}return Xs.call(e,t)?e[t]:void 0}var Ys=Js,Zs=Ye,Qs=Object.prototype,el=Qs.hasOwnProperty;function tl(t){var e=this.__data__;return Zs?e[t]!==void 0:el.call(e,t)}var rl=tl,al=Ye,sl="__lodash_hash_undefined__";function ll(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=al&&e===void 0?sl:e,this}var nl=ll,ol=Hs,il=Ks,cl=Ys,fl=rl,ul=nl;function Se(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var a=t[e];this.set(a[0],a[1])}}Se.prototype.clear=ol;Se.prototype.delete=il;Se.prototype.get=cl;Se.prototype.has=fl;Se.prototype.set=ul;var dl=Se,Rt=dl,hl=Xe,bl=pt;function _l(){this.size=0,this.__data__={hash:new Rt,map:new(bl||hl),string:new Rt}}var pl=_l;function vl(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var gl=vl,ml=gl;function yl(t,e){var r=t.__data__;return ml(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Ze=yl,wl=Ze;function kl(t){var e=wl(this,t).delete(t);return this.size-=e?1:0,e}var Tl=kl,El=Ze;function Al(t){return El(this,t).get(t)}var Cl=Al,jl=Ze;function Ol(t){return jl(this,t).has(t)}var Sl=Ol,Pl=Ze;function Il(t,e){var r=Pl(this,t),a=r.size;return r.set(t,e),this.size+=r.size==a?0:1,this}var Nl=Il,Dl=pl,$l=Tl,Ll=Cl,Ml=Sl,Rl=Nl;function Pe(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var a=t[e];this.set(a[0],a[1])}}Pe.prototype.clear=Dl;Pe.prototype.delete=$l;Pe.prototype.get=Ll;Pe.prototype.has=Ml;Pe.prototype.set=Rl;var Pr=Pe,Ul=Xe,Bl=pt,Vl=Pr,Gl=200;function Fl(t,e){var r=this.__data__;if(r instanceof Ul){var a=r.__data__;if(!Bl||a.length<Gl-1)return a.push([t,e]),this.size=++r.size,this;r=this.__data__=new Vl(a)}return r.set(t,e),this.size=r.size,this}var Hl=Fl,ql=Xe,Kl=Ia,zl=Da,xl=La,Wl=Ra,Xl=Hl;function Ie(t){var e=this.__data__=new ql(t);this.size=e.size}Ie.prototype.clear=Kl;Ie.prototype.delete=zl;Ie.prototype.get=xl;Ie.prototype.has=Wl;Ie.prototype.set=Xl;var Jl=Ie,Yl="__lodash_hash_undefined__";function Zl(t){return this.__data__.set(t,Yl),this}var Ql=Zl;function en(t){return this.__data__.has(t)}var tn=en,rn=Pr,an=Ql,sn=tn;function Ke(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new rn;++e<r;)this.add(t[e])}Ke.prototype.add=Ke.prototype.push=an;Ke.prototype.has=sn;var ln=Ke;function nn(t,e){for(var r=-1,a=t==null?0:t.length;++r<a;)if(e(t[r],r,t))return!0;return!1}var on=nn;function cn(t,e){return t.has(e)}var fn=cn,un=ln,dn=on,hn=fn,bn=1,_n=2;function pn(t,e,r,a,l,s){var n=r&bn,u=t.length,i=e.length;if(u!=i&&!(n&&i>u))return!1;var o=s.get(t),c=s.get(e);if(o&&c)return o==e&&c==t;var h=-1,f=!0,g=r&_n?new un:void 0;for(s.set(t,e),s.set(e,t);++h<u;){var p=t[h],O=e[h];if(a)var y=n?a(O,p,h,e,t,s):a(p,O,h,t,e,s);if(y!==void 0){if(y)continue;f=!1;break}if(g){if(!dn(e,function(S,N){if(!hn(g,N)&&(p===S||l(p,S,r,a,s)))return g.push(N)})){f=!1;break}}else if(!(p===O||l(p,O,r,a,s))){f=!1;break}}return s.delete(t),s.delete(e),f}var Ir=pn,vn=ne,gn=vn.Uint8Array,mn=gn;function yn(t){var e=-1,r=Array(t.size);return t.forEach(function(a,l){r[++e]=[l,a]}),r}var wn=yn;function kn(t){var e=-1,r=Array(t.size);return t.forEach(function(a){r[++e]=a}),r}var Tn=kn,Ut=_t,Bt=mn,En=Er,An=Ir,Cn=wn,jn=Tn,On=1,Sn=2,Pn="[object Boolean]",In="[object Date]",Nn="[object Error]",Dn="[object Map]",$n="[object Number]",Ln="[object RegExp]",Mn="[object Set]",Rn="[object String]",Un="[object Symbol]",Bn="[object ArrayBuffer]",Vn="[object DataView]",Vt=Ut?Ut.prototype:void 0,st=Vt?Vt.valueOf:void 0;function Gn(t,e,r,a,l,s,n){switch(r){case Vn:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Bn:return!(t.byteLength!=e.byteLength||!s(new Bt(t),new Bt(e)));case Pn:case In:case $n:return En(+t,+e);case Nn:return t.name==e.name&&t.message==e.message;case Ln:case Rn:return t==e+"";case Dn:var u=Cn;case Mn:var i=a&On;if(u||(u=jn),t.size!=e.size&&!i)return!1;var o=n.get(t);if(o)return o==e;a|=Sn,n.set(t,e);var c=An(u(t),u(e),a,l,s,n);return n.delete(t),c;case Un:if(st)return st.call(t)==st.call(e)}return!1}var Fn=Gn;function Hn(t,e){for(var r=-1,a=e.length,l=t.length;++r<a;)t[l+r]=e[r];return t}var qn=Hn,Kn=Array.isArray,vt=Kn,zn=qn,xn=vt;function Wn(t,e,r){var a=e(t);return xn(t)?a:zn(a,r(t))}var Xn=Wn;function Jn(t,e){for(var r=-1,a=t==null?0:t.length,l=0,s=[];++r<a;){var n=t[r];e(n,r,t)&&(s[l++]=n)}return s}var Yn=Jn;function Zn(){return[]}var Qn=Zn,eo=Yn,to=Qn,ro=Object.prototype,ao=ro.propertyIsEnumerable,Gt=Object.getOwnPropertySymbols,so=Gt?function(t){return t==null?[]:(t=Object(t),eo(Gt(t),function(e){return ao.call(t,e)}))}:to,lo=so;function no(t,e){for(var r=-1,a=Array(t);++r<t;)a[r]=e(r);return a}var oo=no;function io(t){return t!=null&&typeof t=="object"}var Qe=io,co=Je,fo=Qe,uo="[object Arguments]";function ho(t){return fo(t)&&co(t)==uo}var bo=ho,Ft=bo,_o=Qe,Nr=Object.prototype,po=Nr.hasOwnProperty,vo=Nr.propertyIsEnumerable,go=Ft(function(){return arguments}())?Ft:function(t){return _o(t)&&po.call(t,"callee")&&!vo.call(t,"callee")},mo=go,ze={exports:{}};function yo(){return!1}var wo=yo;(function(t,e){var r=ne,a=wo,l=e&&!e.nodeType&&e,s=l&&!0&&t&&!t.nodeType&&t,n=s&&s.exports===l,u=n?r.Buffer:void 0,i=u?u.isBuffer:void 0,o=i||a;t.exports=o})(ze,ze.exports);var ko=9007199254740991,To=/^(?:0|[1-9]\d*)$/;function Eo(t,e){var r=typeof t;return e=e==null?ko:e,!!e&&(r=="number"||r!="symbol"&&To.test(t))&&t>-1&&t%1==0&&t<e}var Ao=Eo,Co=9007199254740991;function jo(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Co}var Dr=jo,Oo=Je,So=Dr,Po=Qe,Io="[object Arguments]",No="[object Array]",Do="[object Boolean]",$o="[object Date]",Lo="[object Error]",Mo="[object Function]",Ro="[object Map]",Uo="[object Number]",Bo="[object Object]",Vo="[object RegExp]",Go="[object Set]",Fo="[object String]",Ho="[object WeakMap]",qo="[object ArrayBuffer]",Ko="[object DataView]",zo="[object Float32Array]",xo="[object Float64Array]",Wo="[object Int8Array]",Xo="[object Int16Array]",Jo="[object Int32Array]",Yo="[object Uint8Array]",Zo="[object Uint8ClampedArray]",Qo="[object Uint16Array]",ei="[object Uint32Array]",H={};H[zo]=H[xo]=H[Wo]=H[Xo]=H[Jo]=H[Yo]=H[Zo]=H[Qo]=H[ei]=!0;H[Io]=H[No]=H[qo]=H[Do]=H[Ko]=H[$o]=H[Lo]=H[Mo]=H[Ro]=H[Uo]=H[Bo]=H[Vo]=H[Go]=H[Fo]=H[Ho]=!1;function ti(t){return Po(t)&&So(t.length)&&!!H[Oo(t)]}var ri=ti;function ai(t){return function(e){return t(e)}}var si=ai,ot={exports:{}};(function(t,e){var r=Ar,a=e&&!e.nodeType&&e,l=a&&!0&&t&&!t.nodeType&&t,s=l&&l.exports===a,n=s&&r.process,u=function(){try{var i=l&&l.require&&l.require("util").types;return i||n&&n.binding&&n.binding("util")}catch{}}();t.exports=u})(ot,ot.exports);var li=ri,ni=si,Ht=ot.exports,qt=Ht&&Ht.isTypedArray,oi=qt?ni(qt):li,$r=oi,ii=oo,ci=mo,fi=vt,ui=ze.exports,di=Ao,hi=$r,bi=Object.prototype,_i=bi.hasOwnProperty;function pi(t,e){var r=fi(t),a=!r&&ci(t),l=!r&&!a&&ui(t),s=!r&&!a&&!l&&hi(t),n=r||a||l||s,u=n?ii(t.length,String):[],i=u.length;for(var o in t)(e||_i.call(t,o))&&!(n&&(o=="length"||l&&(o=="offset"||o=="parent")||s&&(o=="buffer"||o=="byteLength"||o=="byteOffset")||di(o,i)))&&u.push(o);return u}var vi=pi,gi=Object.prototype;function mi(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||gi;return t===r}var yi=mi;function wi(t,e){return function(r){return t(e(r))}}var ki=wi,Ti=ki,Ei=Ti(Object.keys,Object),Ai=Ei,Ci=yi,ji=Ai,Oi=Object.prototype,Si=Oi.hasOwnProperty;function Pi(t){if(!Ci(t))return ji(t);var e=[];for(var r in Object(t))Si.call(t,r)&&r!="constructor"&&e.push(r);return e}var Ii=Pi,Ni=Or,Di=Dr;function $i(t){return t!=null&&Di(t.length)&&!Ni(t)}var Li=$i,Mi=vi,Ri=Ii,Ui=Li;function Bi(t){return Ui(t)?Mi(t):Ri(t)}var Vi=Bi,Gi=Xn,Fi=lo,Hi=Vi;function qi(t){return Gi(t,Hi,Fi)}var Ki=qi,Kt=Ki,zi=1,xi=Object.prototype,Wi=xi.hasOwnProperty;function Xi(t,e,r,a,l,s){var n=r&zi,u=Kt(t),i=u.length,o=Kt(e),c=o.length;if(i!=c&&!n)return!1;for(var h=i;h--;){var f=u[h];if(!(n?f in e:Wi.call(e,f)))return!1}var g=s.get(t),p=s.get(e);if(g&&p)return g==e&&p==t;var O=!0;s.set(t,e),s.set(e,t);for(var y=n;++h<i;){f=u[h];var S=t[f],N=e[f];if(a)var $=n?a(N,S,f,e,t,s):a(S,N,f,t,e,s);if(!($===void 0?S===N||l(S,N,r,a,s):$)){O=!1;break}y||(y=f=="constructor")}if(O&&!y){var C=t.constructor,m=e.constructor;C!=m&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof m=="function"&&m instanceof m)&&(O=!1)}return s.delete(t),s.delete(e),O}var Ji=Xi,Yi=Oe,Zi=ne,Qi=Yi(Zi,"DataView"),ec=Qi,tc=Oe,rc=ne,ac=tc(rc,"Promise"),sc=ac,lc=Oe,nc=ne,oc=lc(nc,"Set"),ic=oc,cc=Oe,fc=ne,uc=cc(fc,"WeakMap"),dc=uc,it=ec,ct=pt,ft=sc,ut=ic,dt=dc,Lr=Je,Ne=Sr,zt="[object Map]",hc="[object Object]",xt="[object Promise]",Wt="[object Set]",Xt="[object WeakMap]",Jt="[object DataView]",bc=Ne(it),_c=Ne(ct),pc=Ne(ft),vc=Ne(ut),gc=Ne(dt),ve=Lr;(it&&ve(new it(new ArrayBuffer(1)))!=Jt||ct&&ve(new ct)!=zt||ft&&ve(ft.resolve())!=xt||ut&&ve(new ut)!=Wt||dt&&ve(new dt)!=Xt)&&(ve=function(t){var e=Lr(t),r=e==hc?t.constructor:void 0,a=r?Ne(r):"";if(a)switch(a){case bc:return Jt;case _c:return zt;case pc:return xt;case vc:return Wt;case gc:return Xt}return e});var mc=ve,lt=Jl,yc=Ir,wc=Fn,kc=Ji,Yt=mc,Zt=vt,Qt=ze.exports,Tc=$r,Ec=1,er="[object Arguments]",tr="[object Array]",He="[object Object]",Ac=Object.prototype,rr=Ac.hasOwnProperty;function Cc(t,e,r,a,l,s){var n=Zt(t),u=Zt(e),i=n?tr:Yt(t),o=u?tr:Yt(e);i=i==er?He:i,o=o==er?He:o;var c=i==He,h=o==He,f=i==o;if(f&&Qt(t)){if(!Qt(e))return!1;n=!0,c=!1}if(f&&!c)return s||(s=new lt),n||Tc(t)?yc(t,e,r,a,l,s):wc(t,e,i,r,a,l,s);if(!(r&Ec)){var g=c&&rr.call(t,"__wrapped__"),p=h&&rr.call(e,"__wrapped__");if(g||p){var O=g?t.value():t,y=p?e.value():e;return s||(s=new lt),l(O,y,r,a,s)}}return f?(s||(s=new lt),kc(t,e,r,a,l,s)):!1}var jc=Cc,Oc=jc,ar=Qe;function Mr(t,e,r,a,l){return t===e?!0:t==null||e==null||!ar(t)&&!ar(e)?t!==t&&e!==e:Oc(t,e,r,a,Mr,l)}var Sc=Mr,Pc=Sc;function Ic(t,e){return Pc(t,e)}var Nc=Ic;function Dc(t){let e,r,a,l,s,n,u,i,o,c;return{c(){e=E("button"),r=E("button"),a=U("-"),l=L(),s=E("span"),n=U(t[0]),this.h()},l(h){e=A(h,"BUTTON",{class:!0});var f=j(e);r=A(f,"BUTTON",{class:!0});var g=j(r);a=B(g,"-"),g.forEach(v),l=M(f),s=A(f,"SPAN",{class:!0});var p=j(s);n=B(p,t[0]),p.forEach(v),f.forEach(v),this.h()},h(){_(r,"class","h-6 w-6 bg-white hover:bg-red-500 border-l border-b border-black absolute top-0 right-0"),_e(r,"hidden",!t[2]),_(s,"class",u=`${t[1]?"font-emoji":""} text-5xl pointer-events-none`),_(e,"class",i=`${t[3]} h-36 w-28 bg-white ${t[2]?"hover:bg-yellow-200":"hover:bg-nl"} border border-black flex items-center justify-center relative`)},m(h,f){V(h,e,f),d(e,r),d(r,a),d(e,l),d(e,s),d(s,n),o||(c=[q(r,"click",xe(t[5])),q(e,"click",t[4])],o=!0)},p(h,[f]){f&4&&_e(r,"hidden",!h[2]),f&1&&te(n,h[0]),f&2&&u!==(u=`${h[1]?"font-emoji":""} text-5xl pointer-events-none`)&&_(s,"class",u),f&12&&i!==(i=`${h[3]} h-36 w-28 bg-white ${h[2]?"hover:bg-yellow-200":"hover:bg-nl"} border border-black flex items-center justify-center relative`)&&_(e,"class",i)},i:ae,o:ae,d(h){h&&v(e),o=!1,Ce(c)}}}function $c(t,e,r){let{text:a=""}=e,{emoji:l=!1}=e,{editMode:s=!1}=e,{class:n=""}=e;const u=Hr(),i=()=>{u("click",{text:a,emoji:l})},o=()=>{u("delete")};return t.$$set=c=>{"text"in c&&r(0,a=c.text),"emoji"in c&&r(1,l=c.emoji),"editMode"in c&&r(2,s=c.editMode),"class"in c&&r(3,n=c.class)},[a,l,s,n,i,o]}class et extends Te{constructor(e){super(),Ee(this,e,$c,Dc,Ae,{text:0,emoji:1,editMode:2,class:3})}}const Rr=(t,e)=>isNaN(+t)&&isNaN(+e)?t.localeCompare(e):isNaN(+t)?1:isNaN(+e)?-1:+t-+e;function sr(t,e,r){const a=t.slice();return a[24]=e[r],a}function lr(t,e,r){const a=t.slice();return a[21]=e[r],a[23]=r,a}function nr(t){let e,r,a,l;return{c(){e=E("button"),r=U("Save"),this.h()},l(s){e=A(s,"BUTTON",{class:!0});var n=j(e);r=B(n,"Save"),n.forEach(v),this.h()},h(){_(e,"class","px-2 bg-white h-7 border-l border-black self-end hover:bg-green-500 hover:text-white")},m(s,n){V(s,e,n),d(e,r),a||(l=q(e,"click",t[9]),a=!0)},p:ae,d(s){s&&v(e),a=!1,l()}}}function Lc(t){let e,r,a,l,s=[],n=new Map,u,i,o,c=t[0].sort(t[19]);const h=f=>f[24].text;for(let f=0;f<c.length;f+=1){let g=sr(t,c,f),p=h(g);n.set(p,s[f]=or(p,g))}return{c(){e=E("button"),r=U("Clear Vote"),a=L(),l=E("div");for(let f=0;f<s.length;f+=1)s[f].c();this.h()},l(f){e=A(f,"BUTTON",{class:!0});var g=j(e);r=B(g,"Clear Vote"),g.forEach(v),a=M(f),l=A(f,"DIV",{class:!0});var p=j(l);for(let O=0;O<s.length;O+=1)s[O].l(p);p.forEach(v),this.h()},h(){_(e,"class","w-full border border-black hover:bg-nl hover:text-white mb-4"),_(l,"class","grid justify-between auto-fill-col gap-2 svelte-9d72rf")},m(f,g){V(f,e,g),d(e,r),V(f,a,g),V(f,l,g);for(let p=0;p<s.length;p+=1)s[p].m(l,null);u=!0,i||(o=q(e,"click",t[18]),i=!0)},p(f,g){g&129&&(c=f[0].sort(f[19]),$e(),s=wr(s,g,h,1,f,c,n,l,qr,or,null,sr),Le())},i(f){if(!u){for(let g=0;g<c.length;g+=1)x(s[g]);u=!0}},o(f){for(let g=0;g<s.length;g+=1)J(s[g]);u=!1},d(f){f&&v(e),f&&v(a),f&&v(l);for(let g=0;g<s.length;g+=1)s[g].d();i=!1,o()}}}function Mc(t){let e,r,a,l,s=t[5],n=[];for(let i=0;i<s.length;i+=1)n[i]=ir(lr(t,s,i));const u=i=>J(n[i],1,1,()=>{n[i]=null});return a=new et({props:{class:"bg-yellow-200 hover:bg-indigo-400",text:"+"}}),a.$on("click",t[17]),{c(){e=E("div");for(let i=0;i<n.length;i+=1)n[i].c();r=L(),ue(a.$$.fragment),this.h()},l(i){e=A(i,"DIV",{class:!0});var o=j(e);for(let c=0;c<n.length;c+=1)n[c].l(o);r=M(o),de(a.$$.fragment,o),o.forEach(v),this.h()},h(){_(e,"class","grid justify-between auto-fill-col gap-2 svelte-9d72rf")},m(i,o){V(i,e,o);for(let c=0;c<n.length;c+=1)n[c].m(e,null);d(e,r),he(a,e,null),l=!0},p(i,o){if(o&36){s=i[5];let c;for(c=0;c<s.length;c+=1){const h=lr(i,s,c);n[c]?(n[c].p(h,o),x(n[c],1)):(n[c]=ir(h),n[c].c(),x(n[c],1),n[c].m(e,r))}for($e(),c=s.length;c<n.length;c+=1)u(c);Le()}},i(i){if(!l){for(let o=0;o<s.length;o+=1)x(n[o]);x(a.$$.fragment,i),l=!0}},o(i){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)J(n[o]);J(a.$$.fragment,i),l=!1},d(i){i&&v(e),Kr(n,i),be(a)}}}function or(t,e){let r,a,l;return a=new et({props:{text:e[24].text,emoji:e[24].emoji}}),a.$on("click",e[7]),{key:t,first:null,c(){r=ke(),ue(a.$$.fragment),this.h()},l(s){r=ke(),de(a.$$.fragment,s),this.h()},h(){this.first=r},m(s,n){V(s,r,n),he(a,s,n),l=!0},p(s,n){e=s;const u={};n&1&&(u.text=e[24].text),n&1&&(u.emoji=e[24].emoji),a.$set(u)},i(s){l||(x(a.$$.fragment,s),l=!0)},o(s){J(a.$$.fragment,s),l=!1},d(s){s&&v(r),be(a,s)}}}function ir(t){let e,r;function a(){return t[16](t[23])}return e=new et({props:{class:"bg-white",text:t[21].text,emoji:t[21].emoji,editMode:t[2]}}),e.$on("delete",a),{c(){ue(e.$$.fragment)},l(l){de(e.$$.fragment,l)},m(l,s){he(e,l,s),r=!0},p(l,s){t=l;const n={};s&32&&(n.text=t[21].text),s&32&&(n.emoji=t[21].emoji),s&4&&(n.editMode=t[2]),e.$set(n)},i(l){r||(x(e.$$.fragment,l),r=!0)},o(l){J(e.$$.fragment,l),r=!1},d(l){be(e,l)}}}function Rc(t){let e,r,a,l,s=t[2]?"Cancel":"Edit",n,u,i,o,c,h,f,g,p,O,y,S,N,$,C,m,w,P,b,k,T,I,D,R,K,G,W,se,ee,X,Z,Me,pe,tt,gt,Y=t[2]&&nr(t);f=new et({props:{class:"bg-white",text:t[4].text,emoji:t[4].emoji}});const mt=[Mc,Lc],oe=[];function yt(F,z){return F[2]?0:1}return X=yt(t),Z=oe[X]=mt[X](t),{c(){e=E("div"),r=E("div"),Y&&Y.c(),a=L(),l=E("button"),n=U(s),i=L(),o=E("div"),c=E("div"),h=E("div"),ue(f.$$.fragment),g=L(),p=E("div"),O=E("form"),y=E("label"),S=E("span"),N=U("Card Text"),$=L(),C=E("input"),m=L(),w=E("label"),P=E("span"),b=U("Icon"),k=L(),T=E("input"),I=L(),D=E("button"),R=U("New Card"),K=L(),G=E("button"),W=U("Cancel"),se=L(),ee=E("div"),Z.c(),this.h()},l(F){e=A(F,"DIV",{class:!0});var z=j(e);r=A(z,"DIV",{class:!0});var ie=j(r);Y&&Y.l(ie),a=M(ie),l=A(ie,"BUTTON",{class:!0});var ye=j(l);n=B(ye,s),ye.forEach(v),ie.forEach(v),i=M(z),o=A(z,"DIV",{class:!0});var Re=j(o);c=A(Re,"DIV",{class:!0});var wt=j(c);h=A(wt,"DIV",{class:!0});var Ue=j(h);de(f.$$.fragment,Ue),g=M(Ue),p=A(Ue,"DIV",{class:!0});var kt=j(p);O=A(kt,"FORM",{});var ce=j(O);y=A(ce,"LABEL",{});var Be=j(y);S=A(Be,"SPAN",{class:!0});var Tt=j(S);N=B(Tt,"Card Text"),Tt.forEach(v),$=M(Be),C=A(Be,"INPUT",{type:!0,name:!0,placeholder:!0,autocomplete:!0,class:!0}),Be.forEach(v),m=M(ce),w=A(ce,"LABEL",{class:!0});var Ve=j(w);P=A(Ve,"SPAN",{class:!0});var Et=j(P);b=B(Et,"Icon"),Et.forEach(v),k=M(Ve),T=A(Ve,"INPUT",{type:!0,name:!0}),Ve.forEach(v),I=M(ce),D=A(ce,"BUTTON",{type:!0,class:!0});var At=j(D);R=B(At,"New Card"),At.forEach(v),K=M(ce),G=A(ce,"BUTTON",{type:!0,class:!0});var Ct=j(G);W=B(Ct,"Cancel"),Ct.forEach(v),ce.forEach(v),kt.forEach(v),Ue.forEach(v),wt.forEach(v),se=M(Re),ee=A(Re,"DIV",{class:!0});var jt=j(ee);Z.l(jt),jt.forEach(v),Re.forEach(v),z.forEach(v),this.h()},h(){_(l,"class",u=Ge(`float-right px-2 bg-white h-7 border-l border-black self-end hover:text-white ${t[2]?"hover:bg-red-500":"hover:bg-nl"}`)+" svelte-9d72rf"),_(r,"class","w-full stripe-black border-b border-black flex flex-wrap justify-end box-content"),_(S,"class","text-sm font-bold block mb-2"),_(C,"type","text"),_(C,"name","cardText"),_(C,"placeholder","&MF"),_(C,"autocomplete","off"),C.required=!0,_(C,"class","mb-2 form-input"),_(P,"class","text-sm font-bold block pr-4"),_(T,"type","checkbox"),_(T,"name","icon"),_(w,"class","flex mb-4"),_(D,"type","submit"),D.value="create",_(D,"class","border border-black bg-white text-black hover:bg-green-500 hover:text-white font-bold py-1 px-3 rounded"),_(G,"type","button"),_(G,"class","border border-black bg-white text-black hover:bg-red-500 hover:text-white font-bold py-1 px-3 rounded"),_(p,"class","bg-white"),_(h,"class","p-2 h-full border border-black bg-white flex justify-around gap-2 items-center"),_(c,"class","p-6 absolute bg-gray-300 bg-opacity-90 w-full h-full z-10"),_e(c,"hidden",!t[3]),_(ee,"class","p-2"),_(o,"class","relative"),_(e,"class",Me=Ge(`${t[1]} relative`)+" svelte-9d72rf")},m(F,z){V(F,e,z),d(e,r),Y&&Y.m(r,null),d(r,a),d(r,l),d(l,n),d(e,i),d(e,o),d(o,c),d(c,h),he(f,h,null),d(h,g),d(h,p),d(p,O),d(O,y),d(y,S),d(S,N),d(y,$),d(y,C),we(C,t[4].text),d(O,m),d(O,w),d(w,P),d(P,b),d(w,k),d(w,T),T.checked=t[4].emoji,d(O,I),d(O,D),d(D,R),d(O,K),d(O,G),d(G,W),d(o,se),d(o,ee),oe[X].m(ee,null),pe=!0,tt||(gt=[q(l,"click",t[12]),q(C,"input",t[13]),q(T,"change",t[14]),q(G,"click",t[15]),q(O,"submit",xe(ht(t[8])))],tt=!0)},p(F,[z]){F[2]?Y?Y.p(F,z):(Y=nr(F),Y.c(),Y.m(r,a)):Y&&(Y.d(1),Y=null),(!pe||z&4)&&s!==(s=F[2]?"Cancel":"Edit")&&te(n,s),(!pe||z&4&&u!==(u=Ge(`float-right px-2 bg-white h-7 border-l border-black self-end hover:text-white ${F[2]?"hover:bg-red-500":"hover:bg-nl"}`)+" svelte-9d72rf"))&&_(l,"class",u);const ie={};z&16&&(ie.text=F[4].text),z&16&&(ie.emoji=F[4].emoji),f.$set(ie),z&16&&C.value!==F[4].text&&we(C,F[4].text),z&16&&(T.checked=F[4].emoji),z&8&&_e(c,"hidden",!F[3]);let ye=X;X=yt(F),X===ye?oe[X].p(F,z):($e(),J(oe[ye],1,1,()=>{oe[ye]=null}),Le(),Z=oe[X],Z?Z.p(F,z):(Z=oe[X]=mt[X](F),Z.c()),x(Z,1),Z.m(ee,null)),(!pe||z&2&&Me!==(Me=Ge(`${F[1]} relative`)+" svelte-9d72rf"))&&_(e,"class",Me)},i(F){pe||(x(f.$$.fragment,F),x(Z),pe=!0)},o(F){J(f.$$.fragment,F),J(Z),pe=!1},d(F){F&&v(e),Y&&Y.d(),be(f),oe[X].d(),tt=!1,Ce(gt)}}}function Uc(t,e,r){let a;qe(t,ge,b=>r(20,a=b));let{cardDeck:l=[]}=e,{class:s=""}=e,{id:n=""}=e,{nickID:u=""}=e,i=!1,o=!1;const c={text:"X",emoji:!1};let h=le({},c),f;const g=b=>{if(a)return;const k=re(Q,"room",n);me(k,{people:{[u]:{card:b.detail}}},{merge:!0})},p=()=>{r(5,f=[...f,{text:h.text,emoji:h.emoji}]),r(3,o=!1),r(4,h=le({},c))},O=async()=>{const b=re(Q,"room",n);let k=f.slice(),T=[];for(const I of l){const D=k.length;k=k.filter(R=>!Nc(R,I)),k.length==D&&(T=[...T,I])}try{await nt(b,{cards:Jr(...T)}),await nt(b,{cards:Yr(...k)})}catch(I){console.error(I)}r(3,o=!1),r(4,h=le({},c)),r(2,i=!1)},y=()=>{i?(r(3,o=!1),r(4,h=le({},c))):r(5,f=l.slice()),r(2,i=!i)};function S(){h.text=this.value,r(4,h)}function N(){h.emoji=this.checked,r(4,h)}const $=()=>{r(3,o=!1),r(4,h=le({},c))},C=b=>{r(5,f=[...f.filter((k,T)=>T!==b)])},m=()=>{r(3,o=!0)},w=()=>g({detail:""}),P=(b,k)=>Rr(b.text,k.text);return t.$$set=b=>{"cardDeck"in b&&r(0,l=b.cardDeck),"class"in b&&r(1,s=b.class),"id"in b&&r(10,n=b.id),"nickID"in b&&r(11,u=b.nickID)},[l,s,i,o,h,f,c,g,p,O,n,u,y,S,N,$,C,m,w,P]}class Bc extends Te{constructor(e){super(),Ee(this,e,Uc,Rc,Ae,{cardDeck:0,class:1,id:10,nickID:11})}}function cr(t){let e,r,a,l;return{c(){e=E("button"),r=U("Leader Link"),this.h()},l(s){e=A(s,"BUTTON",{class:!0});var n=j(e);r=B(n,"Leader Link"),n.forEach(v),this.h()},h(){_(e,"class","float-right border-l border-black hover:bg-nl hover:text-white px-2 h-7")},m(s,n){V(s,e,n),d(e,r),a||(l=q(e,"click",t[17]),a=!0)},p:ae,d(s){s&&v(e),a=!1,l()}}}function Vc(t){var u;let e,r=((u=t[2])==null?void 0:u.name)+"",a,l,s,n;return{c(){e=E("h2"),a=U(r),l=L(),s=E("span"),n=U(t[1]),this.h()},l(i){e=A(i,"H2",{class:!0});var o=j(e);a=B(o,r),o.forEach(v),l=M(i),s=A(i,"SPAN",{});var c=j(s);n=B(c,t[1]),c.forEach(v),this.h()},h(){_(e,"class","font-semibold leading-tight text-3xl")},m(i,o){V(i,e,o),d(e,a),V(i,l,o),V(i,s,o),d(s,n)},p(i,o){var c;o&4&&r!==(r=((c=i[2])==null?void 0:c.name)+"")&&te(a,r),o&2&&te(n,i[1])},d(i){i&&v(e),i&&v(l),i&&v(s)}}}function Gc(t){let e,r,a,l,s,n,u,i,o,c,h,f,g,p,O,y,S,N,$,C,m,w,P,b,k,T=t[8]&&fr(t),I=t[6]&&ur(t);return{c(){e=E("form"),r=E("label"),a=E("span"),l=U("Room Name"),s=L(),n=E("input"),i=L(),o=E("label"),c=E("span"),h=U("Nick"),f=L(),g=E("input"),O=L(),y=E("button"),S=U("Generate"),N=L(),T&&T.c(),$=L(),C=E("div"),m=E("button"),w=U("Save"),P=L(),I&&I.c(),this.h()},l(D){e=A(D,"FORM",{});var R=j(e);r=A(R,"LABEL",{class:!0});var K=j(r);a=A(K,"SPAN",{class:!0});var G=j(a);l=B(G,"Room Name"),G.forEach(v),s=M(K),n=A(K,"INPUT",{type:!0,name:!0,placeholder:!0,autocomplete:!0,class:!0}),K.forEach(v),i=M(R),o=A(R,"LABEL",{class:!0});var W=j(o);c=A(W,"SPAN",{class:!0});var se=j(c);h=B(se,"Nick"),se.forEach(v),f=M(W),g=A(W,"INPUT",{type:!0,name:!0,placeholder:!0,autocomplete:!0,class:!0}),O=M(W),y=A(W,"BUTTON",{type:!0,class:!0});var ee=j(y);S=B(ee,"Generate"),ee.forEach(v),W.forEach(v),N=M(R),T&&T.l(R),$=M(R),C=A(R,"DIV",{class:!0});var X=j(C);m=A(X,"BUTTON",{type:!0,class:!0});var Z=j(m);w=B(Z,"Save"),Z.forEach(v),P=M(X),I&&I.l(X),X.forEach(v),R.forEach(v),this.h()},h(){_(a,"class","text-sm font-bold mb-2"),_(n,"type","text"),_(n,"name","roomName"),_(n,"placeholder","Enter a room name"),_(n,"autocomplete","off"),n.value=u=t[7].roomName,n.required=!0,_(n,"class","mb-4 form-input"),_(r,"class","inline-block w-full"),_(c,"class","text-sm font-bold mb-2"),_(g,"type","text"),_(g,"name","nick"),_(g,"placeholder","Marcus Antonius"),_(g,"autocomplete","off"),g.value=p=t[7].nick,g.required=!0,_(g,"class","mb-4 form-input float-right"),_(y,"type","button"),_(y,"class","underline hover:bg-nl hover:text-white"),_(o,"class","inline-block w-full"),_(m,"type","submit"),m.value="save",_(m,"class","block border border-black bg-white text-black hover:bg-nl hover:text-white font-bold py-1 px-3 rounded"),_(C,"class","flex gap-2 justify-between")},m(D,R){V(D,e,R),d(e,r),d(r,a),d(a,l),d(r,s),d(r,n),d(e,i),d(e,o),d(o,c),d(c,h),d(o,f),d(o,g),t[18](g),d(o,O),d(o,y),d(y,S),d(e,N),T&&T.m(e,null),d(e,$),d(e,C),d(C,m),d(m,w),d(C,P),I&&I.m(C,null),t[20](e),b||(k=[q(y,"click",t[19]),q(e,"submit",xe(ht(t[11])))],b=!0)},p(D,R){R&128&&u!==(u=D[7].roomName)&&n.value!==u&&(n.value=u),R&128&&p!==(p=D[7].nick)&&g.value!==p&&(g.value=p),D[8]?T?T.p(D,R):(T=fr(D),T.c(),T.m(e,$)):T&&(T.d(1),T=null),D[6]?I?I.p(D,R):(I=ur(D),I.c(),I.m(C,null)):I&&(I.d(1),I=null)},d(D){D&&v(e),t[18](null),T&&T.d(),I&&I.d(),t[20](null),b=!1,Ce(k)}}}function fr(t){let e,r,a,l,s,n,u,i,o,c,h,f,g,p,O;return{c(){e=E("hr"),r=L(),a=E("label"),l=E("span"),s=U("Passcode"),n=L(),u=E("input"),o=L(),c=E("label"),h=E("span"),f=U("Leader Passcode"),g=L(),p=E("input"),this.h()},l(y){e=A(y,"HR",{class:!0}),r=M(y),a=A(y,"LABEL",{class:!0});var S=j(a);l=A(S,"SPAN",{class:!0});var N=j(l);s=B(N,"Passcode"),N.forEach(v),n=M(S),u=A(S,"INPUT",{type:!0,name:!0,autocomplete:!0,placeholder:!0,class:!0}),S.forEach(v),o=M(y),c=A(y,"LABEL",{class:!0});var $=j(c);h=A($,"SPAN",{class:!0});var C=j(h);f=B(C,"Leader Passcode"),C.forEach(v),g=M($),p=A($,"INPUT",{type:!0,name:!0,autocomplete:!0,placeholder:!0,class:!0}),$.forEach(v),this.h()},h(){_(e,"class","block py-2 px-2"),_(l,"class","text-sm font-bold mb-2"),_(u,"type","text"),_(u,"name","passCode"),_(u,"autocomplete","off"),u.value=i=t[7].passCode,_(u,"placeholder","Optional passcode to join room"),_(u,"class","mb-4 form-input"),_(a,"class","inline-block w-full"),_(h,"class","text-sm font-bold mb-2"),_(p,"type","text"),_(p,"name","leaderCode"),_(p,"autocomplete","off"),p.value=O=t[7].leaderCode,_(p,"placeholder","Optional passcode to be leader"),_(p,"class","mb-4 form-input"),_(c,"class","inline-block w-full")},m(y,S){V(y,e,S),V(y,r,S),V(y,a,S),d(a,l),d(l,s),d(a,n),d(a,u),V(y,o,S),V(y,c,S),d(c,h),d(h,f),d(c,g),d(c,p)},p(y,S){S&128&&i!==(i=y[7].passCode)&&u.value!==i&&(u.value=i),S&128&&O!==(O=y[7].leaderCode)&&p.value!==O&&(p.value=O)},d(y){y&&v(e),y&&v(r),y&&v(a),y&&v(o),y&&v(c)}}}function ur(t){let e,r;return{c(){e=E("span"),r=U(t[6]),this.h()},l(a){e=A(a,"SPAN",{class:!0});var l=j(e);r=B(l,t[6]),l.forEach(v),this.h()},h(){_(e,"class","flex-1 bg-red-500 text-white block px-2 leading-loose")},m(a,l){V(a,e,l),d(e,r)},p(a,l){l&64&&te(r,a[6])},d(a){a&&v(e)}}}function Fc(t){let e,r,a,l,s,n=t[8]?"Leader - switch":"User - switch",u,i,o,c,h=t[3]?"Cancel":"Edit",f,g,p,O,y,S,N,$,C,m;document.title=e=dr;let w=t[8]&&cr(t);function P(T,I){return T[3]?Gc:Vc}let b=P(t),k=b(t);return{c(){r=L(),a=E("div"),l=E("div"),s=E("button"),u=U(n),i=L(),o=E("div"),c=E("button"),f=U(h),g=L(),p=E("button"),O=U("Invite Link"),y=L(),w&&w.c(),S=L(),N=E("div"),k.c(),this.h()},l(T){zr('[data-svelte="svelte-1m538qh"]',document.head).forEach(v),r=M(T),a=A(T,"DIV",{class:!0});var D=j(a);l=A(D,"DIV",{class:!0});var R=j(l);s=A(R,"BUTTON",{class:!0});var K=j(s);u=B(K,n),K.forEach(v),i=M(R),o=A(R,"DIV",{});var G=j(o);c=A(G,"BUTTON",{class:!0});var W=j(c);f=B(W,h),W.forEach(v),g=M(G),p=A(G,"BUTTON",{class:!0});var se=j(p);O=B(se,"Invite Link"),se.forEach(v),y=M(G),w&&w.l(G),G.forEach(v),R.forEach(v),S=M(D),N=A(D,"DIV",{class:!0});var ee=j(N);k.l(ee),ee.forEach(v),D.forEach(v),this.h()},h(){_(s,"class","h-7 flex-1 px-2 text-left hover:bg-nl hover:text-white"),_(c,"class","float-right border-l border-black hover:bg-nl hover:text-white px-2 h-7"),_(p,"class","float-right border-l border-black hover:bg-nl hover:text-white px-2 h-7"),_(l,"class","flex justify-between w-full border-b border-black"),_(N,"class","p-2"),_(a,"class",$=`${t[0]}`)},m(T,I){V(T,r,I),V(T,a,I),d(a,l),d(l,s),d(s,u),d(l,i),d(l,o),d(o,c),d(c,f),d(o,g),d(o,p),d(p,O),d(o,y),w&&w.m(o,null),d(a,S),d(a,N),k.m(N,null),C||(m=[q(s,"click",t[9]),q(c,"click",t[15]),q(p,"click",t[16])],C=!0)},p(T,[I]){I&0&&e!==(e=dr)&&(document.title=e),I&256&&n!==(n=T[8]?"Leader - switch":"User - switch")&&te(u,n),I&8&&h!==(h=T[3]?"Cancel":"Edit")&&te(f,h),T[8]?w?w.p(T,I):(w=cr(T),w.c(),w.m(o,null)):w&&(w.d(1),w=null),b===(b=P(T))&&k?k.p(T,I):(k.d(1),k=b(T),k&&(k.c(),k.m(N,null))),I&1&&$!==($=`${T[0]}`)&&_(a,"class",$)},i:ae,o:ae,d(T){T&&v(r),T&&v(a),w&&w.d(),k.d(),C=!1,Ce(m)}}}const dr="Voting Room";function Hc(t,e,r){let a;qe(t,fe,b=>r(8,a=b));let{class:l=""}=e,{id:s=""}=e,{nick:n=""}=e,{nickID:u=""}=e,{info:i=null}=e,o=!1,c,h,f="";const g=async()=>{const b=Zr(s),k=re(Q,"room",s),[T,I]=await bt(k,b);if(a){if(T){await kr(Q,s,(await It(k)).passCode),fe.set(!1);return}if(!I){console.error("password failed");return}fe.set(!1)}else{if(!T){console.error("leader password failed");return}fe.set(!0)}},p={roomName:"",nick:"",passCode:"",leaderCode:""},O=()=>{r(7,p.roomName=i.name,p),r(7,p.nick=n,p),r(7,p.passCode="",p),r(7,p.leaderCode="",p)},y=async()=>{r(6,f="");const b=new FormData(c),k={},T=["roomName","nick"];fe&&T.push("passCode","leaderCode");for(const D of T)k[D]=b.get(D);const I={};for(const[D,R]of Object.entries(k))p[D]!==R&&(I[D]=R);if(!fe&&("passCode"in I||"leaderCode"in I)){r(6,f="leader can change passwords");return}if(Object.keys(I).length>0){const D={};for(const[K,G]of Object.entries(I))switch(K){case"roomName":D.info={name:G};break;case"nick":D.people={[u]:{nick:G}};break;case"passCode":D.password=rt(le({},D.password),{passCode:G});break;case"leaderCode":D.password=rt(le({},D.password),{leaderCode:G});break}const R=re(Q,"room",s);try{await me(R,D,{merge:!0}),r(3,o=!1)}catch(K){r(6,f=K)}}},S=async(b=!1)=>{const k=await It(re(Q,"room",s));let T=k==null?void 0:k.passCode;b&&(T=k==null?void 0:k.leaderCode);let I=`${window.location.origin}/room/${s}`;T&&(I+=`?password=${T}`),navigator.clipboard.writeText(I)},N=()=>{r(3,o=!o),o&&O()},$=()=>S(!1),C=()=>S(!0);function m(b){Pt[b?"unshift":"push"](()=>{h=b,r(5,h)})}const w=()=>r(5,h.value=Tr(),h);function P(b){Pt[b?"unshift":"push"](()=>{c=b,r(4,c)})}return t.$$set=b=>{"class"in b&&r(0,l=b.class),"id"in b&&r(13,s=b.id),"nick"in b&&r(1,n=b.nick),"nickID"in b&&r(14,u=b.nickID),"info"in b&&r(2,i=b.info)},[l,n,i,o,c,h,f,p,a,g,O,y,S,s,u,N,$,C,m,w,P]}class qc extends Te{constructor(e){super(),Ee(this,e,Hc,Fc,Ae,{class:0,id:13,nick:1,nickID:14,info:2})}}function hr(t,e,r){const a=t.slice();return a[18]=e[r],a}function br(t){let e,r,a;return{c(){e=E("input"),this.h()},l(l){e=A(l,"INPUT",{class:!0,type:!0}),this.h()},h(){_(e,"class","bg-gray-200 flex-1 px-2"),_(e,"type","text")},m(l,s){V(l,e,s),we(e,t[1]),r||(a=q(e,"input",t[14]),r=!0)},p(l,s){s&2&&e.value!==l[1]&&we(e,l[1])},d(l){l&&v(e),r=!1,a()}}}function _r(t){let e,r,a,l;return{c(){e=E("button"),r=U("Save"),this.h()},l(s){e=A(s,"BUTTON",{class:!0});var n=j(e);r=B(n,"Save"),n.forEach(v),this.h()},h(){_(e,"class","px-2 h-7 border-l border-black self-end hover:bg-green-500 hover:text-white")},m(s,n){V(s,e,n),d(e,r),a||(l=q(e,"click",t[8]),a=!0)},p:ae,d(s){s&&v(e),a=!1,l()}}}function pr(t){let e,r,a,l,s,n,u,i,o,c,h,f,g,p=Object.keys(t[0]).length+"",O,y,S,N=[],$=new Map,C,m,w=Object.keys(t[0]).sort(t[16]);const P=b=>b[18];for(let b=0;b<w.length;b+=1){let k=hr(t,w,b),T=P(k);$.set(T,N[b]=gr(T,k))}return{c(){e=E("div"),r=E("div"),a=E("button"),l=U("Clear Votes"),s=L(),n=E("button"),u=U("Show Results"),i=L(),o=E("span"),c=E("span"),h=U(t[5]),g=U("/"),O=U(p),y=L(),S=E("table");for(let b=0;b<N.length;b+=1)N[b].c();this.h()},l(b){e=A(b,"DIV",{class:!0});var k=j(e);r=A(k,"DIV",{});var T=j(r);a=A(T,"BUTTON",{class:!0});var I=j(a);l=B(I,"Clear Votes"),I.forEach(v),s=M(T),n=A(T,"BUTTON",{class:!0});var D=j(n);u=B(D,"Show Results"),D.forEach(v),T.forEach(v),i=M(k),o=A(k,"SPAN",{class:!0});var R=j(o);c=A(R,"SPAN",{class:!0});var K=j(c);h=B(K,t[5]),K.forEach(v),g=B(R,"/"),O=B(R,p),R.forEach(v),k.forEach(v),y=M(b),S=A(b,"TABLE",{class:!0});var G=j(S);for(let W=0;W<N.length;W+=1)N[W].l(G);G.forEach(v),this.h()},h(){_(a,"class","px-2 h-7 border border-black hover:bg-nl hover:text-white"),_(n,"class","px-2 h-7 border border-black hover:bg-nl hover:text-white"),_e(n,"invisible",!t[6]),_(c,"class",f=`${t[5]!=Object.keys(t[0]).length?"text-red-500":""}`),_(o,"class","text-xl font-bold"),_(e,"class","flex items-center justify-between mb-4"),_(S,"class","w-full")},m(b,k){V(b,e,k),d(e,r),d(r,a),d(a,l),d(r,s),d(r,n),d(n,u),d(e,i),d(e,o),d(o,c),d(c,h),d(o,g),d(o,O),V(b,y,k),V(b,S,k);for(let T=0;T<N.length;T+=1)N[T].m(S,null);C||(m=[q(a,"click",t[11]),q(n,"click",t[12])],C=!0)},p(b,k){k&64&&_e(n,"invisible",!b[6]),k&32&&te(h,b[5]),k&33&&f!==(f=`${b[5]!=Object.keys(b[0]).length?"text-red-500":""}`)&&_(c,"class",f),k&1&&p!==(p=Object.keys(b[0]).length+"")&&te(O,p),k&1753&&(w=Object.keys(b[0]).sort(b[16]),N=wr(N,k,P,1,b,w,$,S,xr,gr,null,hr))},d(b){b&&v(e),b&&v(y),b&&v(S);for(let k=0;k<N.length;k+=1)N[k].d();C=!1,Ce(m)}}}function vr(t){let e,r,a,l;function s(){return t[17](t[18])}return{c(){e=E("button"),r=U("X"),this.h()},l(n){e=A(n,"BUTTON",{class:!0});var u=j(e);r=B(u,"X"),u.forEach(v),this.h()},h(){_(e,"class","bg-white border-l border-r border-black hover:bg-red-500 absolute top-0 right-0 h-full text-2xl px-2")},m(n,u){V(n,e,u),d(e,r),a||(l=q(e,"click",s),a=!0)},p(n,u){t=n},d(n){n&&v(e),a=!1,l()}}}function gr(t,e){var S,N,$,C;let r,a,l=((S=e[0][e[18]])==null?void 0:S.nick)+"",s,n,u,i,o,c=(e[7]?(C=($=(N=e[0][e[18]])==null?void 0:N.card)==null?void 0:$.text)!=null?C:"-":"\u{1F7E7}")+"",h,f,g,p,O,y=e[6]&&e[3]&&vr(e);return{key:t,first:null,c(){r=E("tr"),a=E("td"),s=U(l),n=E("span"),u=U("$"),i=L(),o=E("td"),h=U(c),f=L(),y&&y.c(),p=L(),this.h()},l(m){r=A(m,"TR",{class:!0});var w=j(r);a=A(w,"TD",{class:!0});var P=j(a);s=B(P,l),n=A(P,"SPAN",{class:!0});var b=j(n);u=B(b,"$"),b.forEach(v),P.forEach(v),i=M(w),o=A(w,"TD",{class:!0});var k=j(o);h=B(k,c),f=M(k),y&&y.l(k),k.forEach(v),p=M(w),w.forEach(v),this.h()},h(){var m,w,P,b,k;_(n,"class","float-right pr-2"),_e(n,"invisible",!((m=e[0][e[18]])!=null&&m.isLeader)),_(a,"class","text-left w-1/2 text-2xl"),_(o,"class",g=`${((P=(w=e[0][e[18]])==null?void 0:w.card)==null?void 0:P.emoji)||!e[7]?"font-emoji":""} text-center text-4xl py-1 border border-r-0 border-black relative`),_(r,"class",O=`odd:bg-gray-100 border-b border-black first:border-t ${(k=(b=e[0][e[18]])==null?void 0:b.card)!=null&&k.text?"":"bg-yellow-100"} ${e[4][e[18]]?"stripe-gray":""}`),this.first=r},m(m,w){V(m,r,w),d(r,a),d(a,s),d(a,n),d(n,u),d(r,i),d(r,o),d(o,h),d(o,f),y&&y.m(o,null),d(r,p)},p(m,w){var P,b,k,T,I,D,R,K,G;e=m,w&1&&l!==(l=((P=e[0][e[18]])==null?void 0:P.nick)+"")&&te(s,l),w&1&&_e(n,"invisible",!((b=e[0][e[18]])!=null&&b.isLeader)),w&129&&c!==(c=(e[7]?(I=(T=(k=e[0][e[18]])==null?void 0:k.card)==null?void 0:T.text)!=null?I:"-":"\u{1F7E7}")+"")&&te(h,c),e[6]&&e[3]?y?y.p(e,w):(y=vr(e),y.c(),y.m(o,null)):y&&(y.d(1),y=null),w&129&&g!==(g=`${((R=(D=e[0][e[18]])==null?void 0:D.card)==null?void 0:R.emoji)||!e[7]?"font-emoji":""} text-center text-4xl py-1 border border-r-0 border-black relative`)&&_(o,"class",g),w&17&&O!==(O=`odd:bg-gray-100 border-b border-black first:border-t ${(G=(K=e[0][e[18]])==null?void 0:K.card)!=null&&G.text?"":"bg-yellow-100"} ${e[4][e[18]]?"stripe-gray":""}`)&&_(r,"class",O)},d(m){m&&v(r),y&&y.d()}}}function Kc(t){let e,r,a,l,s=(t[3]?"":t[1])+"",n,u,i,o,c,h,f=t[3]?"Cancel":"Edit",g,p,O,y,S,N,$,C=t[3]&&br(t),m=t[3]&&_r(t),w=t[0]&&pr(t);return{c(){e=E("div"),r=E("div"),a=E("span"),l=U("Voting - "),n=U(s),u=L(),C&&C.c(),i=L(),o=E("div"),m&&m.c(),c=L(),h=E("button"),g=U(f),O=L(),y=E("div"),w&&w.c(),this.h()},l(P){e=A(P,"DIV",{class:!0});var b=j(e);r=A(b,"DIV",{class:!0});var k=j(r);a=A(k,"SPAN",{class:!0});var T=j(a);l=B(T,"Voting - "),n=B(T,s),T.forEach(v),u=M(k),C&&C.l(k),i=M(k),o=A(k,"DIV",{});var I=j(o);m&&m.l(I),c=M(I),h=A(I,"BUTTON",{class:!0});var D=j(h);g=B(D,f),D.forEach(v),I.forEach(v),k.forEach(v),O=M(b),y=A(b,"DIV",{class:!0});var R=j(y);w&&w.l(R),R.forEach(v),b.forEach(v),this.h()},h(){_(a,"class","px-2"),_(h,"class",p=`float-right px-2 h-7 border-l border-black self-end hover:text-white ${t[3]?"hover:bg-red-500":"hover:bg-nl"}`),_(r,"class","border-b border-black h-7 flex flex-wrap justify-between box-content"),_(y,"class","p-2"),_(e,"class",S=`${t[2]} relative`)},m(P,b){V(P,e,b),d(e,r),d(r,a),d(a,l),d(a,n),d(r,u),C&&C.m(r,null),d(r,i),d(r,o),m&&m.m(o,null),d(o,c),d(o,h),d(h,g),d(e,O),d(e,y),w&&w.m(y,null),N||($=q(h,"click",t[15]),N=!0)},p(P,[b]){b&10&&s!==(s=(P[3]?"":P[1])+"")&&te(n,s),P[3]?C?C.p(P,b):(C=br(P),C.c(),C.m(r,i)):C&&(C.d(1),C=null),P[3]?m?m.p(P,b):(m=_r(P),m.c(),m.m(o,c)):m&&(m.d(1),m=null),b&8&&f!==(f=P[3]?"Cancel":"Edit")&&te(g,f),b&8&&p!==(p=`float-right px-2 h-7 border-l border-black self-end hover:text-white ${P[3]?"hover:bg-red-500":"hover:bg-nl"}`)&&_(h,"class",p),P[0]?w?w.p(P,b):(w=pr(P),w.c(),w.m(y,null)):w&&(w.d(1),w=null),b&4&&S!==(S=`${P[2]} relative`)&&_(e,"class",S)},i:ae,o:ae,d(P){P&&v(e),C&&C.d(),m&&m.d(),w&&w.d(),N=!1,$()}}}function zc(t,e,r){let a,l,s;qe(t,fe,m=>r(6,l=m)),qe(t,ge,m=>r(7,s=m));let{class:n=""}=e,{id:u=""}=e,{description:i=""}=e,{people:o=null}=e,c=!1;const h=()=>{const m=re(Q,"room",u);if(me(m,{info:{description:i}},{merge:!0}),l){const w={};Object.keys(o).forEach(P=>{f[P]||(w[P]=o[P])}),nt(m,{people:w})}r(3,c=!1),r(4,f={})};let f={};const g=m=>{r(4,f[m]=!0,f)},p=m=>{delete f[m],r(4,f=le({},f))},O=()=>{if(o){Object.keys(o).forEach(w=>{o[w].card&&(r(0,o[w].card.text=null,o),r(0,o[w].card.emoji=!1,o))});const m=re(Q,"room",u);me(m,{people:o,show:!1},{merge:!0}),ge.set(!1)}else{const m=re(Q,"room",u);me(m,{show:!1},{merge:!0}),ge.set(!1)}},y=()=>{if(!l)return;const m=re(Q,"room",u);me(m,{show:!0},{merge:!0}),ge.set(!0)};function S(){i=this.value,r(1,i)}const N=()=>{r(3,c=!c),r(4,f={})},$=(m,w)=>Rr(o[m].nick,o[w].nick),C=m=>f[m]?p(m):g(m);return t.$$set=m=>{"class"in m&&r(2,n=m.class),"id"in m&&r(13,u=m.id),"description"in m&&r(1,i=m.description),"people"in m&&r(0,o=m.people)},t.$$.update=()=>{t.$$.dirty&1&&r(5,a=o?Object.keys(o).reduce((m,w)=>{var b;const P=(b=o[w].card)!=null&&b.text?1:0;return m+P},0):0)},[o,i,n,c,f,a,l,s,h,g,p,O,y,u,S,N,$,C]}class xc extends Te{constructor(e){super(),Ee(this,e,zc,Kc,Ae,{class:2,id:13,description:1,people:0})}}function mr(t){let e,r;return{c(){e=E("span"),r=U("Wrong!"),this.h()},l(a){e=A(a,"SPAN",{class:!0});var l=j(e);r=B(l,"Wrong!"),l.forEach(v),this.h()},h(){_(e,"class","flex-1 bg-red-500 text-white block px-2 leading-loose")},m(a,l){V(a,e,l),d(e,r)},d(a){a&&v(e)}}}function Wc(t){let e,r,a,l,s,n,u,i,o,c,h,f,g,p,O,y,S,N,$=t[1]&&mr();return{c(){e=E("div"),r=E("div"),a=E("span"),l=U("Password not correct"),s=L(),n=E("form"),u=E("label"),i=E("span"),o=U("Passcode"),c=L(),h=E("input"),f=L(),g=E("div"),p=E("button"),O=U("Login"),y=L(),$&&$.c(),this.h()},l(C){e=A(C,"DIV",{class:!0});var m=j(e);r=A(m,"DIV",{class:!0});var w=j(r);a=A(w,"SPAN",{class:!0});var P=j(a);l=B(P,"Password not correct"),P.forEach(v),s=M(w),n=A(w,"FORM",{});var b=j(n);u=A(b,"LABEL",{});var k=j(u);i=A(k,"SPAN",{class:!0});var T=j(i);o=B(T,"Passcode"),T.forEach(v),c=M(k),h=A(k,"INPUT",{type:!0,name:!0,autocomplete:!0,placeholder:!0,class:!0}),k.forEach(v),f=M(b),g=A(b,"DIV",{class:!0});var I=j(g);p=A(I,"BUTTON",{type:!0,class:!0});var D=j(p);O=B(D,"Login"),D.forEach(v),y=M(I),$&&$.l(I),I.forEach(v),b.forEach(v),w.forEach(v),m.forEach(v),this.h()},h(){_(a,"class","block mb-4 text-xl font-bold bg-black text-white px-2 py-1"),_(i,"class","text-sm font-bold block mb-2"),_(h,"type","text"),_(h,"name","passCode"),_(h,"autocomplete","off"),_(h,"placeholder","Password to join room"),_(h,"class","mb-4 form-input"),_(p,"type","submit"),p.value="create",_(p,"class","block border border-black bg-white text-black hover:bg-nl hover:text-white font-bold py-1 px-3 rounded"),_(g,"class","flex gap-2 justify-between"),_(r,"class","p-6 bg-white border border-black"),_(e,"class","flex items-center justify-center")},m(C,m){V(C,e,m),d(e,r),d(r,a),d(a,l),d(r,s),d(r,n),d(n,u),d(u,i),d(i,o),d(u,c),d(u,h),we(h,t[0]),d(n,f),d(n,g),d(g,p),d(p,O),d(g,y),$&&$.m(g,null),S||(N=[q(h,"input",t[4]),q(n,"submit",xe(ht(t[2])))],S=!0)},p(C,[m]){m&1&&h.value!==C[0]&&we(h,C[0]),C[1]?$||($=mr(),$.c(),$.m(g,null)):$&&($.d(1),$=null)},i:ae,o:ae,d(C){C&&v(e),$&&$.d(),S=!1,Ce(N)}}}function Xc(t,e,r){let{id:a=""}=e,l="",s=!1;const n=async()=>{r(1,s=!1);const i=re(Q,"room",a);if(!await bt(i,l)){r(1,s=!0);return}Qr(a,l)};function u(){l=this.value,r(0,l)}return t.$$set=i=>{"id"in i&&r(3,a=i.id)},[l,s,n,a,u]}class Jc extends Te{constructor(e){super(),Ee(this,e,Xc,Wc,Ae,{id:3})}}function yr(t){let e,r,a,l;const s=[Zc,Yc],n=[];function u(i,o){return i[1]?0:1}return e=u(t),r=n[e]=s[e](t),{c(){r.c(),a=ke()},l(i){r.l(i),a=ke()},m(i,o){n[e].m(i,o),V(i,a,o),l=!0},p(i,o){let c=e;e=u(i),e===c?n[e].p(i,o):($e(),J(n[c],1,1,()=>{n[c]=null}),Le(),r=n[e],r?r.p(i,o):(r=n[e]=s[e](i),r.c()),x(r,1),r.m(a.parentNode,a))},i(i){l||(x(r),l=!0)},o(i){J(r),l=!1},d(i){n[e].d(i),i&&v(a)}}}function Yc(t){var o,c;let e,r,a,l,s,n,u,i;return r=new xc({props:{id:t[0],description:(c=(o=t[3])==null?void 0:o.description)!=null?c:"",people:t[5],class:"flex-1 bg-white border-black border-t border-b sm:border"}}),s=new qc({props:{id:t[0],info:t[3],nick:t[4],nickID:t[7],class:"bg-white border-black border-t border-b sm:border h-fit"}}),u=new Bc({props:{id:t[0],nickID:t[7],cardDeck:t[6],class:"flex-1 bg-white border-black border-t border-b sm:border h-fit"}}),{c(){e=E("div"),ue(r.$$.fragment),a=L(),l=E("div"),ue(s.$$.fragment),n=L(),ue(u.$$.fragment),this.h()},l(h){e=A(h,"DIV",{class:!0});var f=j(e);de(r.$$.fragment,f),a=M(f),l=A(f,"DIV",{class:!0});var g=j(l);de(s.$$.fragment,g),n=M(g),de(u.$$.fragment,g),g.forEach(v),f.forEach(v),this.h()},h(){_(l,"class","flex flex-1 flex-col gap-2"),_(e,"class","flex flex-col xl:flex-row gap-2")},m(h,f){V(h,e,f),he(r,e,null),d(e,a),d(e,l),he(s,l,null),d(l,n),he(u,l,null),i=!0},p(h,f){var y,S;const g={};f&1&&(g.id=h[0]),f&8&&(g.description=(S=(y=h[3])==null?void 0:y.description)!=null?S:""),f&32&&(g.people=h[5]),r.$set(g);const p={};f&1&&(p.id=h[0]),f&8&&(p.info=h[3]),f&16&&(p.nick=h[4]),s.$set(p);const O={};f&1&&(O.id=h[0]),f&64&&(O.cardDeck=h[6]),u.$set(O)},i(h){i||(x(r.$$.fragment,h),x(s.$$.fragment,h),x(u.$$.fragment,h),i=!0)},o(h){J(r.$$.fragment,h),J(s.$$.fragment,h),J(u.$$.fragment,h),i=!1},d(h){h&&v(e),be(r),be(s),be(u)}}}function Zc(t){let e,r;return e=new Jc({props:{id:t[0]}}),{c(){ue(e.$$.fragment)},l(a){de(e.$$.fragment,a)},m(a,l){he(e,a,l),r=!0},p(a,l){const s={};l&1&&(s.id=a[0]),e.$set(s)},i(a){r||(x(e.$$.fragment,a),r=!0)},o(a){J(e.$$.fragment,a),r=!1},d(a){be(e,a)}}}function Qc(t){let e,r,a=t[2]&&yr(t);return{c(){a&&a.c(),e=ke()},l(l){a&&a.l(l),e=ke()},m(l,s){a&&a.m(l,s),V(l,e,s),r=!0},p(l,[s]){l[2]?a?(a.p(l,s),s&4&&x(a,1)):(a=yr(l),a.c(),x(a,1),a.m(e.parentNode,e)):a&&($e(),J(a,1,1,()=>{a=null}),Le())},i(l){r||(x(a),r=!0)},o(l){J(a),r=!1},d(l){a&&a.d(l),l&&v(e)}}}async function lf({params:t,url:e}){var a;const r=(a=e.searchParams.get("password"))!=null?a:"";return{props:{id:t.id,password:r}}}function ef(t,e,r){var g;let{id:a=""}=e,{password:l=""}=e,s=!1,n=!1,u=null,{id:i,nick:o}=(g=ea())!=null?g:ta(Tr()),c=null,h=[],f=null;return Wr(async()=>{const p=re(Q,"room",a),[O,y]=await bt(p,l);if(!y){r(1,s=!0),r(2,n=!0);return}fe.set(O);let S=await kr(Q,a,l);await me(p,{people:{[i]:{nick:o,points:"",isLeader:O}}},{merge:!0}),f=ra(Q,a,N=>{var C,m,w;r(3,u=N.get("info")),r(5,c=N.get("people"));const $=N.get("cards");if(r(6,h=(C=$==null?void 0:$.sort((P,b)=>P.text.localeCompare(b.text)))!=null?C:[]),ge.set(N.get("show")),!c[i]){window.location.href="/?msg=You%20have%20been%20kicked!!&kickRoom="+a;return}((m=c[i])==null?void 0:m.nick)!=o&&(r(4,o=(w=c[i])==null?void 0:w.nick),o&&aa(i,o)),(u==null?void 0:u.name)!=S&&(S=u==null?void 0:u.name,sa(a,{id:a,name:S,password:l})),Object.keys(c).every(P=>c[P].card.text)&&ge.set(!0)}),r(1,s=!1),r(2,n=!0)}),Xr(()=>{f!=null&&f()}),t.$$set=p=>{"id"in p&&r(0,a=p.id),"password"in p&&r(8,l=p.password)},[a,s,n,u,o,c,h,i,l]}class nf extends Te{constructor(e){super(),Ee(this,e,ef,Qc,Ae,{id:0,password:8})}}export{nf as default,lf as load};
